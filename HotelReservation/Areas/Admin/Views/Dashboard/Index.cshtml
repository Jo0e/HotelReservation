 @{
    Layout = "~/Views/Shared/_Layout.cshtml"; // Use main layout
}


<div class="dashboard-container">
    <!-- Side Navigation -->
    <div class="sidebar">
        <h4>Admin Dashboard</h4>
        <div class="nav flex-column" role="group" aria-label="Basic example">
            <button class=" nav-link btn btn-primary" id="btnHotels"><i class="bi bi-building"></i> Manage Hotels</button>
            <button class=" nav-link btn btn-primary" id="btnCompany"> <i class="bi bi-building"></i> Manage Companies</button>
            <button class=" nav-link btn btn-primary" id="btnUser"><i class="bi bi-people-fill"></i> Manage Users</button>
            <button class=" nav-link btn btn-primary" id="btnContactUs"> ContactUs: <i class="bi bi-chat-right-dots"></i>@ViewBag.ContactUs</button>
            <button class=" nav-link btn btn-primary" id="btnAmenity">Manage Amenities</button>

        </div>
    </div>

    <!-- Main Content -->
    <div id="dynamic_Content" class=" main-content">
        <!-- Content will be dynamically loaded here -->
    </div>
</div>

<style>
    .dashboard-container {
        display: flex;
    }

    .sidebar {
        position: fixed; /* Keep the sidebar fixed on the screen */
        top: 75px; /* Adjust this value to match the height of your navbar */
        left: 0;
        height: calc(100% - 75px); /* Subtract the navbar's height */
        width: 250px;
        background: linear-gradient(180deg, #007bff, #0056b3);
        color: white;
        padding: 15px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        overflow-y: auto; /* Add scrolling if the sidebar content overflows */
    }

        .sidebar h4 {
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .sidebar .nav-link {
            color: white;
            margin-bottom: 10px;
            padding: 10px;
            display: block;
            border-radius: 5px;
            text-decoration: none;
        }

            .sidebar .nav-link i {
                margin-right: 10px;
            }

            .sidebar .nav-link:hover {
                background-color: rgba(255, 255, 255, 0.2);
            }

    .main-content {
        margin-left: 250px; /* Matches sidebar width */
        padding: 20px;
        width: calc(100% - 250px);
        margin-top: 56px; /* Add margin to match navbar height */
    }

</style>
<script src="~/lib/jquery/dist/jquery.min.js"></script>

<script>
        $(document).ready(function () {
        // Function to load content via AJAX
        function loadContent(url) {
            $.ajax({
                url: url,
                type: 'GET',
                success: function (response) {
                    $('#dynamic_Content').html(response);

                    // Rebind events for pagination and search after new content loads
                    bindPaginationAndSearch();
                },
                error: function () {
                    $('#dynamic_Content').html('<p>Error loading content. Please try again later.</p>');
                }
            });
        }

        // Function to bind pagination and search events
        function bindPaginationAndSearch() {
            // Handle pagination links
            $('.pagination-link').click(function (event) {
                event.preventDefault(); // Prevent default navigation
                const url = $(this).attr('href'); // Get the URL from the link
                loadContent(url); // Load the content via AJAX
            });

            // Handle search form submission
            $('#searchForm').submit(function (event) {
                event.preventDefault(); // Prevent default form submission
                const url = $(this).attr('action') + '?' + $(this).serialize(); // Construct URL with query parameters
                loadContent(url); // Load the content via AJAX
            });
        }

        // Bind events on page load
        bindPaginationAndSearch();

        // Load Hotels when button is clicked
        $('#btnHotels').click(function () {
            loadContent('@Url.Action("Index", "Hotel", new { area = "Admin" })');
        });

        // Load Companies when button is clicked
        $('#btnCompany').click(function () {
            loadContent('@Url.Action("Index", "Company", new { area = "Admin" })');
        });

        // Load Users when button is clicked
        $('#btnUser').click(function () {
            loadContent('@Url.Action("Index", "User", new { area = "Admin" })');
        });

        // Load ContactUs when button is clicked
        $('#btnContactUs').click(function () {
            loadContent('@Url.Action("Index", "ContactUs", new { area = "Admin" })');
        });
         $('#btnAmenity').click(function () {
            loadContent('@Url.Action("Index", "Amenity", new { area = "Admin" })');
        });
    });

</script>